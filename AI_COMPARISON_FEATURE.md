# AI-–∞–Ω–∞–ª–∏–∑ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç AI-–∞–Ω–∞–ª–∏–∑ –ø—Ä–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ –¥–≤—É—Ö –≤–µ—Ä—Å–∏–π –ø—Ä–æ–¥—É–∫—Ç–∞. –≠—Ç–æ –¥–∞–µ—Ç –∫—Ä–∞—Ç–∫–æ–µ executive summary –∏–∑–º–µ–Ω–µ–Ω–∏–π, —É–ª—É—á—à–µ–Ω–∏–π, –ø—Ä–æ–±–ª–µ–º –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.

## ‚ú® –ß—Ç–æ –¥–µ–ª–∞–µ—Ç

AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç:
- **–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏**: –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–æ—Å–µ—â–µ–Ω–∏—è—Ö, –æ—Ç–∫–∞–∑–∞—Ö, –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Å–∞–π—Ç–µ
- **UX-–ø—Ä–æ–±–ª–µ–º—ã**: –Ω–æ–≤—ã–µ, —É—Ö—É–¥—à–∏–≤—à–∏–µ—Å—è, —É–ª—É—á—à–∏–≤—à–∏–µ—Å—è, —Ä–µ—à–µ–Ω–Ω—ã–µ
- **–°—Ç—Ä–∞–Ω–∏—Ü—ã**: –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ exit_rate –∏ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- **–ö–æ–≥–æ—Ä—Ç—ã**: –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–µ–≥–º–µ–Ω—Ç–∞—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ê–ª–µ—Ä—Ç—ã**: –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

–ò –≤—ã–¥–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑:
- **–†–µ–∑—é–º–µ**: –∫—Ä–∞—Ç–∫–∏–π –≤—ã–≤–æ–¥ –æ —Ç–æ–º, —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
- **–£–ª—É—á—à–µ–Ω–∏—è**: –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **–ü—Ä–æ–±–ª–µ–º—ã**: –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–ª–∏ –Ω–æ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π: `/analytics/compare/`
2. –í—ã–±–µ—Ä–∏—Ç–µ –¥–≤–µ –≤–µ—Ä—Å–∏–∏ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
3. AI-–∞–Ω–∞–ª–∏–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤ –≤–µ—Ä—Ö–Ω–µ–π —á–∞—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –ß–µ—Ä–µ–∑ API

```powershell
# –ü–æ–ª—É—á–∏—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å AI-–∞–Ω–∞–ª–∏–∑–æ–º
curl "http://localhost:8000/analytics/api/compare/?v1=1&v2=2"
```

–í –æ—Ç–≤–µ—Ç–µ –±—É–¥–µ—Ç –ø–æ–ª–µ `ai_analysis` —Å —Ç–µ–∫—Å—Ç–æ–º –∞–Ω–∞–ª–∏–∑–∞.

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§—É–Ω–∫—Ü–∏—è

`analyze_version_comparison_with_ai()` –≤ `analytics/ai_service.py`

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

- **HTML view**: `compare_versions()` –≤ `analytics/views_compare.py`
- **API view**: `api_compare()` –≤ `analytics/views_compare.py`
- **–®–∞–±–ª–æ–Ω**: `templates/analytics/compare.html`

### Fallback

–ï—Å–ª–∏ AI –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (–Ω–µ—Ç API –∫–ª—é—á–µ–π –∏–ª–∏ –æ—à–∏–±–∫–∞), –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è rule-based fallback –∞–Ω–∞–ª–∏–∑ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ç—Ä–∏–∫.

## üìä –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
–†–µ–∑—é–º–µ: –í–µ—Ä—Å–∏—è v2.0 (2024) –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–ª—É—á—à–µ–Ω–∏–µ - —Å–Ω–∏–∂–µ–Ω–∏–µ –æ—Ç–∫–∞–∑–æ–≤ –Ω–∞ 3.2% –∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Å–∞–π—Ç–µ –Ω–∞ 12.5—Å.
–£–ª—É—á—à–µ–Ω–∏—è: —Å–Ω–∏–∂–µ–Ω–∏–µ –æ—Ç–∫–∞–∑–æ–≤ –Ω–∞ 3.2%, —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Å–∞–π—Ç–µ –Ω–∞ 12.5—Å, 5 –ø—Ä–æ–±–ª–µ–º —É–ª—É—á—à–∏–ª–æ—Å—å, 3 –ø—Ä–æ–±–ª–µ–º —Ä–µ—à–µ–Ω–æ
–ü—Ä–æ–±–ª–µ–º—ã: 2 –Ω–æ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø–æ —É–ª—É—á—à–µ–Ω–∏—é UX, —Ñ–æ–∫—É—Å–∏—Ä—É—è—Å—å –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –≤—ã—Å–æ–∫–∏–º impact_score.
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

AI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —á—Ç–æ –∏ –¥—Ä—É–≥–∏–µ AI-—Ñ—É–Ω–∫—Ü–∏–∏:
- `FOLDER_ID` - ID –ø–∞–ø–∫–∏ Yandex Cloud
- `API_KEY` - API –∫–ª—é—á YandexGPT

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ `.env` –∏–ª–∏ `docker-compose.yml`.

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**: –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
2. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å**: —á–µ—Ç–∫–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞
3. **–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ—Å—Ç—å**: –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, –∞ –Ω–µ –æ–±—â–∏–µ —Å–æ–≤–µ—Ç—ã
4. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: fallback –µ—Å–ª–∏ AI –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

## üîç –û—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ AI-–∞–Ω–∞–ª–∏–∑ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á–∏**:
```powershell
docker-compose exec web python manage.py shell -c "import os; print('FOLDER_ID:', os.environ.get('FOLDER_ID')); print('API_KEY:', 'SET' if os.environ.get('API_KEY') else 'NOT SET')"
```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏**:
   - –û—à–∏–±–∫–∏ AI –∑–∞–ø—Ä–æ—Å–æ–≤ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Docker: `docker-compose logs web`

3. **Fallback —Ä–∞–±–æ—Ç–∞–µ—Ç**:
   - –î–∞–∂–µ –±–µ–∑ AI –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω rule-based –∞–Ω–∞–ª–∏–∑

## üìù –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ AI

AI –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```
–†–µ–∑—é–º–µ: [–∫—Ä–∞—Ç–∫–∏–π –≤—ã–≤–æ–¥]
–£–ª—É—á—à–µ–Ω–∏—è: [—Å–ø–∏—Å–æ–∫ —É–ª—É—á—à–µ–Ω–∏–π]
–ü—Ä–æ–±–ª–µ–º—ã: [—Å–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º]
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: [–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ]
```

–ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ –∏ –¥–≤–æ–µ—Ç–æ—á–∏—è –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞.

